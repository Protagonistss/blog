---
title: "Windows 终端中文乱码解决方案"
description: "解决 Windows PowerShell 终端中文显示乱码和 Git 提交中文乱码问题"
tags: ["windows", "powershell", "编码"]
categories: ["windows"]
draft: false
techStack: "shell"
pubDate: "2025-11-14 14:35:09.000Z"
---

## 问题描述

在 Windows PowerShell 终端中，经常会遇到中文显示乱码的问题，特别是在使用 Git 提交包含中文的文件时。这是因为 PowerShell 默认使用的编码与 UTF-8 不一致导致的。

## 解决方案

在 PowerShell 配置文件中设置 UTF-8 编码，可以永久解决终端中文乱码问题。

### 1. 打开 PowerShell 配置文件

```powershell
notepad $PROFILE
```

如果配置文件不存在，系统会提示创建。

### 2. 添加以下配置

将以下代码添加到 PowerShell 配置文件中：

```powershell
# 设置 UTF-8 编码，解决终端中文乱码问题
[Console]::OutputEncoding = [System.Text.Encoding]::UTF8
[Console]::InputEncoding = [System.Text.Encoding]::UTF8
$OutputEncoding = [System.Text.Encoding]::UTF8
chcp 65001 | Out-Null
```

### 3. 重新加载配置

保存文件后，重新打开 PowerShell 终端，或者执行以下命令重新加载配置：

```powershell
. $PROFILE
```

## 配置说明

- `[Console]::OutputEncoding`: 设置控制台输出编码为 UTF-8
- `[Console]::InputEncoding`: 设置控制台输入编码为 UTF-8
- `$OutputEncoding`: 设置 PowerShell 输出编码为 UTF-8
- `chcp 65001`: 将代码页设置为 UTF-8（65001 是 UTF-8 的代码页编号）

## 验证

配置完成后，可以在终端中测试中文显示是否正常：

```powershell
echo "测试中文显示：你好世界"
```

如果中文能够正常显示，说明配置成功。